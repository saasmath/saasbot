<!DOCTYPE html>
<html>
    <head>
        <title>Sensors</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link href="http://saasmath.seattleacademy.org/css/bootstrap.css"
              rel="stylesheet">
        <style>

        </style>
        <script src="http://saasmath.seattleacademy.org/js/jquery.js"></script>
        <script src="static/keyboard.js"></script>


        <script>



            $(document).ready(function() {

                $("#getAllSensors").click(function() {
                    //alert('first');
                    $("[data-sensor]").each(function() {
                        sensor = $(this).data('sensor');
                        $(this).load('getSensor?sensorToRead=' + sensor);
                    });

                });

                $("#getPowerSensors").click(function() {
                    //alert('first');
                    $("#power-sensors [data-sensor]").each(function() {
                        sensor = $(this).data('sensor');
                        $(this).load('getSensor?sensorToRead=' + sensor);
                    });

                });

                $("#getObstacleSensors").click(function() {
                    //alert('first');
                    $("#obstacle-sensors [data-sensor]").each(function() {
                        sensor = $(this).data('sensor');
                        $(this).load('getSensor?sensorToRead=' + sensor);
                    });

                });

                $("#getOdometrySensors").click(function() {
                    //alert('first');
                    $("#odometry-sensors [data-sensor]").each(function() {
                        sensor = $(this).data('sensor');
                        $(this).load('getSensor?sensorToRead=' + sensor);
                    });

                });







                $("[data-command]").click(function() {
                    command = $(this).data('command');
                    $('#result').load(command);

                });

                $("[data-sensor]").click(function() {
                    sensor = $(this).data('sensor');
                    $(this).load('getSensor?sensorToRead=' + sensor);

                });

                function updatePower() {
                    $("#power-sensors [data-sensor]").each(function() {
                        sensor = $(this).data('sensor');
                        $(this).load('getSensor?sensorToRead=' + sensor);
                    });
                }
                //var powerId = setInterval(updatePower, 2000);

                function updateOdometry() {
                    $("#odometry-sensors [data-sensor]").each(function() {
                        sensor = $(this).data('sensor');
                        $(this).load('getSensor?sensorToRead=' + sensor);
                    });
                }

                function updateObstacle() {
                    $("#obstacle-sensors [data-sensor]").each(function() {
                        sensor = $(this).data('sensor');
                        $(this).load('getSensor?sensorToRead=' + sensor);
                    });
                }

                function updateOther() {
                    $("#other-sensors [data-sensor]").each(function() {
                        sensor = $(this).data('sensor');
                        $(this).load('getSensor?sensorToRead=' + sensor);
                    });
                }

                updatePower();
                updateOdometry();
                updateObstacle();
                updateOther();
                var powerId = setInterval(updatePower, 5000);
                var odometryId = setInterval(updateOdometry, 1000);
                var obsticalId = setInterval(updateObstacle, 4000);
                var otherId = setInterval(updateOther, 6000);

            });

        </script>

    </head>
    <body>
        <div class="container">
            <div id="result">result</div>
            <button data-command="/toPassiveMode">toPassiveMode</button>
            <button data-command="/toSafeMode">toSafeMode</button>
            <button data-command="/toFullMode">toFullMode</button>
            <button data-command="/song1">song1</button>
            <button data-command="/playNote?noteNumber=44&duration=89">playNote</button>


            <button id="getAllSensors">Get all sensors</button>
            <button id="getPowerSensors">Get power sensors</button>
            <button id="getOdometrySensors">Get odometry sensors</button>
            <button id="getObstacleSensors">Get obstacle sensors</button>

            <div class="row">
                <div class="span6">
                    <table class="table table-striped" id="power-sensors">
                        <caption>Power</caption>
                        <thead>
                            <tr>
                                <th>Sensor</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>

                            <tr>
                                <td>VOLTAGE</td>
                                <td data-sensor="VOLTAGE"></td>
                            </tr>
                            <tr>
                                <td>CURRENT</td>
                                <td data-sensor="CURRENT"></td>
                            </tr>
                            <tr>
                                <td>BATTERY_TEMPERATURE</td>
                                <td data-sensor="BATTERY_TEMPERATURE"></td>
                            </tr>                    
                            <tr>
                                <td>BATTERY_CHARGE</td>
                                <td data-sensor="BATTERY_CHARGE"></td>
                            </tr>
                            <tr>
                                <td>BATTERY_CAPACITY</td>
                                <td data-sensor="BATTERY_CAPACITY"></td>
                            </tr>
                            <tr>
                                <td>CHARGING_STATE</td>
                                <td data-sensor="CHARGING_STATE"></td>
                            </tr>
                            <tr>
                                <td>CHARGING_SOURCES_AVAILABLE</td>
                                <td data-sensor="CHARGING_SOURCES_AVAILABLE"></td>
                            </tr>

                            <tr>
                                <td>OI_MODE</td>
                                <td data-sensor="OI_MODE"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>               
                <div class="span6">
                    <table class="table table-striped" id="odometry-sensors">
                        <caption>Odometry</caption>
                        <thead>
                            <tr>
                                <th>Sensor</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>

                            <tr>
                                <td>DISTANCE</td>
                                <td data-sensor="DISTANCE"></td>
                            </tr>
                            <tr>
                                <td>ANGLE</td>
                                <td data-sensor="ANGLE"></td>
                            </tr>
                            <tr>
                                <td>VELOCITY</td>
                                <td data-sensor="VELOCITY"></td>
                            </tr>
                            <tr>
                                <td>RADIUS</td>
                                <td data-sensor="RADIUS"></td>
                            </tr>
                            <tr>
                                <td>RIGHT_VELOCITY</td>
                                <td data-sensor="RIGHT_VELOCITY"></td>
                            </tr>
                            <tr>
                                <td>LEFT_VELOCITY</td>
                                <td data-sensor="LEFT_VELOCITY"></td>
                            </tr>

                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row">

                <div class="span6">
                    <table class="table table-striped" id="obstacle-sensors">
                        <caption>Obstacles</caption>
                        <thead>
                            <tr>
                                <th>Sensor</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>BUMPS_AND_WHEEL_DROPS</td>
                                <td data-sensor="BUMPS_AND_WHEEL_DROPS"></td>
                            </tr>

                            <tr>
                                <td>CLIFF_LEFT</td>
                                <td data-sensor="CLIFF_LEFT"></td>
                            </tr>
                            <tr>
                                <td>CLIFF_FRONT_LEFT</td>
                                <td data-sensor="CLIFF_FRONT_LEFT"></td>
                            </tr>
                            <tr>
                                <td>CLIFF_FRONT_RIGHT</td>
                                <td data-sensor="CLIFF_FRONT_RIGHT"></td>
                            </tr>
                            <tr>
                                <td>CLIFF_RIGHT</td>
                                <td data-sensor="CLIFF_RIGHT"></td>
                            </tr>
                            <tr>
                                <td>WALL</td>
                                <td data-sensor="WALL"></td>
                            </tr>
                            <tr>
                                <td>VIRTUAL_WALL</td>
                                <td data-sensor="VIRTUAL_WALL"></td>
                            </tr>

                            <tr>
                                <td>CLIFF_LEFT_SIGNAL</td>
                                <td data-sensor="CLIFF_LEFT_SIGNAL"></td>
                            </tr>
                            <tr>
                                <td>CLIFF_FRONT_LEFT_SIGNAL</td>
                                <td data-sensor="CLIFF_FRONT_LEFT_SIGNAL"></td>
                            </tr>
                            <tr>
                                <td>CLIFF_FRONT_RIGHT_SIGNAL</td>
                                <td data-sensor="CLIFF_FRONT_RIGHT_SIGNAL"></td>
                            </tr>
                            <tr>
                                <td>CLIFF_RIGHT_SIGNAL</td>
                                <td data-sensor="CLIFF_RIGHT_SIGNAL"></td>
                            </tr>
                            <tr>
                                <td>WALL_SIGNAL</td>
                                <td data-sensor="WALL_SIGNAL"></td>
                            </tr>

                        </tbody>
                    </table>
                </div>
                <div class="span6">

                    <table class="table table-striped" id="other-sensors">
                        <caption>Other</caption>
                        <thead>
                            <tr>
                                <th>Sensor</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>

                            <tr>
                                <td>OVERCURRENTS</td>
                                <td data-sensor="OVERCURRENTS"></td>
                            </tr>
                            <tr>
                                <td>IR_BYTE</td>
                                <td data-sensor="IR_BYTE"></td>
                            </tr>
                            <tr>
                                <td>BUTTONS</td>
                                <td data-sensor="BUTTONS"></td>
                            </tr>

                            <tr>
                                <td>USER_DIGITAL_INPUTS</td>
                                <td data-sensor="USER_DIGITAL_INPUTS"></td>
                            </tr>
                            <tr>
                                <td>SONG_NUMBER</td>
                                <td data-sensor="SONG_NUMBER"></td>
                            </tr>
                            <tr>
                                <td>SONG_PLAYING</td>
                                <td data-sensor="SONG_PLAYING"></td>
                            </tr>
                            <tr>
                                <td>NUMBER_OF_STREAM_PACKETS</td>
                                <td data-sensor="NUMBER_OF_STREAM_PACKETS"></td>
                            </tr>


                        </tbody>
                    </table>
                </div>
            </div>
        </div> <!-- /container -->
    </body>
</html>
